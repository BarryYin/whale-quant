# 量化调仓策略

先通俗的理解下调仓。当我们看股票的时候，如果看好多只股票，但是资金又不是无限，这个时候就想让资金发挥最大值，那就看怎么配比仓位。
拿两只股票而言，你至少有三个大方向，只买其中一只股票，两只股票都买一半，或者进行动态调整。这里的策略是什么，就是本章要解决的问题。

## 如何衡量投资组合的收益率
投资组合的收益率是指投资组合在一定时间内的总体收益率。投资组合的收益率可以通过加权平均每个资产的收益率来计算。
在比较投资组合的收益率时，需要将其与市场平均收益进行比较。


## 衡量投资组合的风险
投资组合的风险是指投资组合在未来可能出现的损失或波动的程度。投资组合的风险通常由其波动性、损失概率和损失幅度等因素来衡量。投资组合的风险越高，意味着投资者可能面临更大的损失，但同时也可能获得更高的回报。

- 方差和标准差
方差是每个资产收益率与平均收益率之差的平方的平均值，标准差是方差的平方根。
- Beta系数
Beta系数是衡量投资组合相对于市场整体波动的指标，用投资组合与市场组合的协方差与市场组合的方差的比值计算。
Beta系数的计算方法是将资产或投资组合的收益率与市场指数的收益率进行回归分析，得到回归系数即为Beta系数。Beta系数越高，表示资产或投资组合的风险越高，但同时也可能获得更高的回报。Beta系数的计算可以使用统计软件或在线工具进行。
- Value at Risk（VaR
VaR是衡量投资组合在一定置信水平下的最大可能损失的指标。
VaR是满足使损失不超过y的概率大于等于α的最小的y值.
- Conditional Value at Risk（CVaR）[^1]
CVaR是VaR的扩展，它衡量的是在VaR损失超过一定阈值时的平均损失。

## 最优化方法计算投资组合的最佳仓位
如果时序模型同时有100支股票产生买入信号1，又或者多因子模型预测值前100支股票具有同样的值；但此时我们可支配的资金只足够交易50支股票，那么如何从100支股票中定量地挑选50支股票呢？所以尽可能地，我们希望在同一时间截面上，不同股票的预测值之间是有差异的。 无论是作为主观投资者重仓少数证券，还是基于量化模型的策略，都会面临如上的问题，每一个证券买多少。

这里的内容比较复杂，详细的大家看教程
- 等权重 ，这个说了白说
- 市值加权，给一些小市值的股票权重加高
- 最小方差组合，结合上面说的方差计算，即和大市场的平均收益率接近的组合(感觉直接买指数)
- 最大分散度，这个应该是拆散组合里的相关性，从安全上考虑排除系统性风险
- 风险平价，这个是用摊平风险的方法看仓位多少，每个资产对组合的边际风险贡献相同。
- 均值方差优化，
以上的介绍的最小方差、最大分散度、风险平价的优化方法，都还是集中在风险上。而我们常说，一个优秀的投资策略，往往是在给定风险水平下实现组合收益最大化，或者在给定收益水平实现组合风险最小化。
均值方差模型在组合优化领域是最常用也最经典的。

## 常见约束
- 约束1：单资产权重的范围限制：
- 约束2：做空限制
- 约束3：行业中性化
- 约束4：风险敞口限制